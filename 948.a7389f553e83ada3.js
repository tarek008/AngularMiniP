"use strict";(self.webpackChunkMiniProject=self.webpackChunkMiniProject||[]).push([[948],{6948:(P,C,l)=>{l.r(C),l.d(C,{DepartmentsModule:()=>Y});var c=l(9808),u=l(1083);class d{}var t=l(5e3),D=l(8069),a=l(3075);let x=(()=>{class o{constructor(e){this.departentService=e,this.department=new d}ngOnInit(){}onSubmit(){console.log("je suiis la"),this.departentService.addDepartment({nomDepart:this.department.nomDepart}).subscribe(e=>{console.log(e)})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(D._))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-department"]],decls:17,vars:1,consts:[[1,"form-group"],["for","exampleFormControlInput1"],["type","text","id","exampleFormControlInput1","placeholder","department Name",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary","mb-2",3,"click"]],template:function(e,n){1&e&&(t._UZ(0,"br")(1,"br")(2,"br")(3,"br")(4,"br"),t.TgZ(5,"h1"),t._uU(6,"Add department"),t.qZA(),t.TgZ(7,"form")(8,"div",0)(9,"label",1),t._uU(10,"Department Name"),t.qZA(),t.TgZ(11,"input",2),t.NdJ("ngModelChange",function(p){return n.department.nomDepart=p}),t.qZA()(),t._UZ(12,"br")(13,"br")(14,"br"),t.TgZ(15,"button",3),t.NdJ("click",function(){return n.onSubmit()}),t._uU(16,"Add department"),t.qZA()()),2&e&&(t.xp6(11),t.Q6J("ngModel",n.department.nomDepart))},directives:[a._Y,a.JL,a.F,a.Fj,a.JJ,a.On],styles:[""]}),o})();var f=l(9783),T=l(6759),s=l(3495),b=l(1424),m=l(845),_=l(5315);const y=["dt"];function A(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div",15)(1,"span",16),t._UZ(2,"i",17),t.TgZ(3,"input",18),t.NdJ("input",function(r){return t.CHM(e),t.oxw().applyFilterGlobal(r,"contains")}),t.qZA()(),t.TgZ(4,"span",19)(5,"button",20),t.NdJ("click",function(){return t.CHM(e),t.oxw().openDepartment()}),t.qZA()()()}}function M(o,i){1&o&&(t.TgZ(0,"tr")(1,"th",21),t._uU(2,"department id "),t._UZ(3,"p-sortIcon",22),t.qZA(),t.TgZ(4,"th",23),t._uU(5,"department Name "),t._UZ(6,"p-sortIcon",24),t.qZA(),t.TgZ(7,"th",25),t._uU(8,"Action "),t._UZ(9,"p-sortIcon",26),t.qZA()())}const g=function(o){return{color:o}};function J(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"button",27),t.NdJ("mouseover",function(){return t.CHM(e),t.oxw().hoveEdit=!0})("mouseleave",function(){return t.CHM(e),t.oxw().hoveEdit=!1})("click",function(){const p=t.CHM(e).$implicit;return t.oxw().showBasicDialog(p)}),t.qZA(),t.TgZ(7,"button",28),t.NdJ("mouseover",function(){return t.CHM(e),t.oxw().hovDelete=!0})("mouseleave",function(){return t.CHM(e),t.oxw().hovDelete=!1})("click",function(){const p=t.CHM(e).$implicit;return t.oxw().onDelete(p)}),t.qZA(),t.TgZ(8,"button",29),t.NdJ("mouseover",function(){return t.CHM(e),t.oxw().hoveView=!0})("mouseleave",function(){return t.CHM(e),t.oxw().hoveView=!1})("click",function(){const p=t.CHM(e).$implicit;return t.oxw().onOpen(p)}),t.qZA()()()}if(2&o){const e=i.$implicit,n=t.oxw();t.xp6(2),t.Oqu(e.idDepart),t.xp6(2),t.Oqu(e.nomDepart),t.xp6(2),t.Q6J("ngStyle",t.VKq(5,g,1==n.hoveEdit?"white":"black")),t.xp6(1),t.Q6J("ngStyle",t.VKq(7,g,1==n.hovDelete?"white":"black")),t.xp6(1),t.Q6J("ngStyle",t.VKq(9,g,1==n.hoveView?"white":"black"))}}function w(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"p-button",30),t.NdJ("click",function(){return t.CHM(e),t.oxw().addDepartment()}),t.qZA()}}function N(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"p-button",31),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return r.updateDepartment(r.dep)}),t.qZA()}}function q(o,i){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA()()),2&o){const e=i.$implicit;t.xp6(2),t.Oqu(e.idEnseignant),t.xp6(2),t.Oqu(e.nomEnseignant),t.xp6(2),t.Oqu(e.prenomEnseignant),t.xp6(2),t.Oqu(e.cin)}}function U(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"p-button",32),t.NdJ("click",function(){return t.CHM(e),t.oxw().cancel()}),t.qZA()}}const I=function(){return[10,25,50]},S=function(){return["idDepart","nomDepart"]},h=function(){return{width:"50vw"}};let F=(()=>{class o{constructor(e,n,r){this.departmentService=e,this.primengConfig=n,this.enseignantService=r,this.closeResult="",this.displayBasic=!1,this.displayBasic1=!1,this.displayDep=!1,this.loading=!0,this.hoveView=!1,this.hoveEdit=!1,this.hovDelete=!1}ngOnInit(){this.cols=[{field:"Department ID",header:"Department ID"},{field:"Department Name",header:"Department Name"}],this.dep=new d,this.primengConfig.ripple=!0,this.departmentService.getDepartments().subscribe(e=>{this.listDepartments=e,this.loading=!1})}onDelete(e){this.departmentService.deleteDepartment(e.idDepart).subscribe(n=>{console.log(n),this.listDepartments.splice(this.findIndexById(e.idDepart))})}openDepartment(){this.displayDep=!0,this.dep=new d}addDepartment(){this.displayDep=!1,this.departmentService.addDepartment({nomDepart:this.dep.nomDepart}).subscribe(e=>{console.log(e),this.listDepartments.push(e)})}showBasicDialog(e){this.displayBasic=!0,this.departmentService.geDepartmentById(e.idDepart).subscribe(n=>{this.dep=n,console.log(n)})}onOpen(e){this.displayBasic1=!0,this.departmentService.getEnseignantsByDepartment(e.idDepart).subscribe(n=>{this.listEnseignant=n})}cancel(){this.displayBasic1=!1}updateDepartment(e){console.log(e),this.departmentService.updateDepartment(e.idDepart,e).subscribe(n=>{this.dep=n,console.log(n)}),this.listDepartments[this.findIndexById(this.dep.idDepart)]=this.dep,console.log(this.listDepartments),this.displayBasic=!1}findIndexById(e){let n=-1;for(let r=0;r<this.listDepartments.length;r++)if(this.listDepartments[r].idDepart===e){n=r;break}return n}applyFilterGlobal(e,n){console.log(e.target.value),this.table.filterGlobal(e.target.value,n)}filterGlobal(e,n){console.log(e.target.value),this.table.filterGlobal(e.target.value,"contains")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(D._),t.Y36(f.b4),t.Y36(T.y))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-consult-department"]],viewQuery:function(e,n){if(1&e&&t.Gf(y,5),2&e){let r;t.iGM(r=t.CRH())&&(n.table=r.first)}},decls:40,vars:29,consts:[[1,"size"],["dataKey","id","styleClass","p-datatable-customers","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rowHover","rows","showCurrentPageReport","rowsPerPageOptions","loading","paginator","filterDelay","globalFilterFields"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header"," Edit Department",3,"visible","baseZIndex","visibleChange"],[1,"form-group"],["for","exampleFormControlInput1"],["type","text","id","exampleFormControlInput1","placeholder","department Name",1,"form-control",3,"ngModel","ngModelChange"],["pTemplate","footer"],["header"," List Enseignant",3,"visible","baseZIndex","visibleChange"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],[1,"table-header"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Global Search",3,"input"],[1,"p-input-right"],["pButton","","type","button","label","Add","icon","pi pi-check",1,"p-button-primary",2,"float","right",3,"click"],["scope","col","pSortableColumn","id"],["field","id"],["scope","col","pSortableColumn","name"],["field","name"],["scope","col","pSortableColumn","action"],["field","action"],["pButton","","type","button","label","Edit","icon","pi pi-check",1,"p-button-primary",3,"ngStyle","mouseover","mouseleave","click"],["pButton","","type","button","label","Delete","icon","pi pi-check",1,"p-button-danger",3,"ngStyle","mouseover","mouseleave","click"],["pButton","","type","button","label","View Enseignants","icon","pi pi-check",1,"p-button-warning",3,"ngStyle","mouseover","mouseleave","click"],["icon","pi pi-check","label","Save","styleClass","p-button-text",3,"click"],["icon","pi pi-check","label","Update","styleClass","p-button-text",3,"click"],["icon","pi pi-check","label","Cancel","styleClass","p-button-text",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"br")(2,"br")(3,"br")(4,"br")(5,"br"),t.TgZ(6,"h1"),t._uU(7,"List of departments"),t.qZA(),t.TgZ(8,"p-table",1,2),t.YNc(10,A,6,0,"ng-template",3),t.YNc(11,M,10,0,"ng-template",4),t.YNc(12,J,9,11,"ng-template",5),t.qZA(),t.TgZ(13,"p-dialog",6),t.NdJ("visibleChange",function(p){return n.displayDep=p}),t.TgZ(14,"div",7)(15,"label",8),t._uU(16,"Department Name"),t.qZA(),t.TgZ(17,"input",9),t.NdJ("ngModelChange",function(p){return n.dep.nomDepart=p}),t.qZA()(),t.YNc(18,w,1,0,"ng-template",10),t.qZA(),t.TgZ(19,"p-dialog",6),t.NdJ("visibleChange",function(p){return n.displayBasic=p}),t.TgZ(20,"div",7)(21,"label",8),t._uU(22,"Department Name"),t.qZA(),t.TgZ(23,"input",9),t.NdJ("ngModelChange",function(p){return n.dep.nomDepart=p}),t.qZA()(),t.YNc(24,N,1,0,"ng-template",10),t.qZA(),t.TgZ(25,"p-dialog",11),t.NdJ("visibleChange",function(p){return n.displayBasic1=p}),t.TgZ(26,"table",12)(27,"thead")(28,"tr")(29,"th",13),t._uU(30,"Enseignant id"),t.qZA(),t.TgZ(31,"th",13),t._uU(32,"First Name"),t.qZA(),t.TgZ(33,"th",13),t._uU(34,"Last Name"),t.qZA(),t.TgZ(35,"th",13),t._uU(36,"CIN"),t.qZA()()(),t.TgZ(37,"tbody"),t.YNc(38,q,9,4,"tr",14),t.qZA()(),t.YNc(39,U,1,0,"ng-template",10),t.qZA()()),2&e&&(t.xp6(8),t.Q6J("value",n.listDepartments)("rowHover",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(24,I))("loading",n.loading)("paginator",!0)("filterDelay",0)("globalFilterFields",t.DdM(25,S)),t.xp6(5),t.Akn(t.DdM(26,h)),t.Q6J("visible",n.displayDep)("baseZIndex",1e4),t.xp6(4),t.Q6J("ngModel",n.dep.nomDepart),t.xp6(2),t.Akn(t.DdM(27,h)),t.Q6J("visible",n.displayBasic)("baseZIndex",1e4),t.xp6(4),t.Q6J("ngModel",n.dep.nomDepart),t.xp6(2),t.Akn(t.DdM(28,h)),t.Q6J("visible",n.displayBasic1)("baseZIndex",1e4),t.xp6(13),t.Q6J("ngForOf",n.listEnseignant))},directives:[s.iA,f.jx,b.o,m.Hq,s.lQ,s.fz,c.PC,_.V,a.Fj,a.JJ,a.On,m.zx,c.sg],styles:[".size[_ngcontent-%COMP%]{width:100%}"]}),o})(),v=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-departments"]],decls:3,vars:0,consts:[[1,"container","col-lg"],[1,"cont"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"router-outlet"),t.qZA()())},directives:[u.lC],styles:[""]}),o})();const k=[{path:"",component:v,children:[{path:"",component:v},{path:"consult-department",component:F},{path:"add-department",component:x}]}];let B=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[u.Bz.forChild(k)],u.Bz]}),o})();var E=l(9544),O=l(6526),H=l(7773),Q=l(330);let Y=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[c.ez,B,a.u5,_.S,m.hJ,E.dp,H.EV,_.S,m.hJ,O.q4,b.j,Q.vI,s.U$]]}),o})()}}]);